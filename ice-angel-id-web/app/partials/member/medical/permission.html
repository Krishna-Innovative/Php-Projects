<div class="panel panel-default" >
    <div class="panel-heading" >
        <div data-toggle="collapse" data-parent="" href="#collapseDoctors" class="collapse-header-doctor collapse-a collapsed accordion-toggle"
             ia-label>
            <i class="member-accordion-icon icon-doctor_info_icon"></i> <span i18n="common.doctorInfo"></span>
            <span class="info-badge" ng-show = "shareMode">{{member.additional_information.medical.doctors.length}}</span>
            <span class="info-badge" ng-show= "!shareMode">{{getDoctorCount()}}</span>
        </div>
    </div>
    <div id="collapseDoctors" class="panel-collapse collapse">
        <div class="panel-body">            
            <div class="no-info" ng-if="member.additional_information.medical.doctors.length == 0" ng-show="shareMode || setEcpPermission" i18n="common.noInformationToDisplay"></div>

             <div class="no-info" ng-if="getDoctorCount() == 0" ng-show = "!shareMode && !setEcpPermission" i18n="common.noInformationToDisplay"></div>

            <ul class="list-contaner" ng-class = "{ 'preview_data' : previewMode}">
                <li class="  col-xs-12 col-sm-6"  ng-repeat="doctor in member.additional_information.medical.doctors track by doctor.id" ng-init="permission.medical.doctors[$index].id = doctor.id" ng-class="{ permission.medical.doctors[$index].all, 'email_mode' : publicMode, 'show_public_data' : publicMode && (member.additional_information.medical.doctors[$index].first_name || member.additional_information.medical.doctors[$index].last_name)}" ng-if="showField(doctor.last_name, permission.medical.doctors[$index].last_name)" >
                    <div class="list-box">
                        <div class="col-sm-12 list-info">
                            <label>
                                <div class="col-xs-1 text-center">
                                    <input ng-model="permission.medical.doctors[$index].all"
                                           type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox" cb-id="doctor_{{$index}}" ng-click = "medicalDataContent()">
                                </div>
                                <div ng-class="{'col-xs-10': !previewMode, 'col-xs-12': previewMode}">
                                    <b><strong i18n="common.doctorNumber" data-number="{{$index + 1}}" ng-show="showField(doctor.last_name, permission.medical.doctors[$index].last_name)"></strong></b>
                                </div>
                            </label>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !permission.medical.doctors[$index].all && !previewMode}">
                            <div class="list-info">
                                <label for="medical_doctor_last_name_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.doctors[$index].last_name"
                                               name="medical_doctor_last_name_{{$index}}" id="medical_doctor_last_name_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,doctor_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding " i18n="common.lastName"></div>
                                    <div ng-show="showField(doctor.last_name, permission.medical.doctors[$index].last_name)" class="no-padding right text-right col-xs-8">{{doctor.last_name}}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !permission.medical.doctors[$index].all && !previewMode}">
                            <div class="list-info">
                                <label for="medical_doctor_first_name_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.doctors[$index].first_name"
                                               name="medical_doctor_first_name_{{$index}}" id="medical_doctor_first_name_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,doctor_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding " i18n="common.firstName"></div>
                                    <div ng-show="showField(doctor.first_name, permission.medical.doctors[$index].first_name)" class="no-padding right text-right col-xs-8">{{doctor.first_name}}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !permission.medical.doctors[$index].all && !previewMode}">
                            <div class="list-info">
                                <label for="medical_doctor_phone_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.doctors[$index].phone"
                                               name="medical_doctor_phone_{{$index}}" id="medical_doctor_phone_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,doctor_{{$index}}"/>
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.telephone"></div>
                                    <div ng-show="showField(doctor.phone, permission.medical.doctors[$index].phone)" class="no-padding right text-right phone-number-dr-div col-xs-8" full-phone-number phonecode="doctor.phone.code" phonenumber="doctor.phone.number"></div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !permission.medical.doctors[$index].all && !previewMode}">
                            <div class="list-info">
                                <label for="medical_doctor_specialty_{{$index}}">
                                    <div class="col-xs-1 text-center" hidden>
                                        <input ng-model="permission.medical.doctors[$index].specialty"
                                               name="medical_doctor_specialty_{{$index}}" id="medical_doctor_specialty_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,doctor_{{$index}}"/>
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.specialty"></div>
                                    <div ng-show="showField(doctor.specialty, permission.medical.doctors[$index].specialty)" class="no-padding right text-right col-xs-8">{{doctor.specialty | settingsFilter:'doctor_specialities':'name'}}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !permission.medical.doctors[$index].all && !previewMode}">
                            <div class="list-info">
                                <label for="medical_doctor_notes_{{$index}}">
                                    <div class="col-xs-1 text-center" hidden>
                                        <input ng-model="permission.medical.doctors[$index].notes"
                                               name="medical_doctor_notes_{{$index}}" id="medical_doctor_notes_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,doctor_{{$index}}"/>
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.notes"></div>
                                    <div ng-show="showField(doctor.notes, permission.medical.doctors[$index].notes)" class="no-padding right text-right col-xs-8">{{doctor.notes}}</div>
                                </label>
                            </div>
                        </div>
                    </div>
                    <input type="hidden" ng-model="permission.medical.doctors[$index].id"/>
                </li>
            </ul>
        </div>
    </div>
</div> 
<div class="panel panel-default">
    <div class="panel-heading">
        <div data-toggle="collapse" data-parent="" href="#collapseBlood" class="collapse-a collapsed collapse-header-blood accordion-toggle" ia-label>
            <i class="member-accordion-icon icon-blood_info_icon"></i> <span i18n="common.bloodInfo"></span>
              <span class="info-badge" ng-show= "!shareMode && !previewMode && !setEcpPermission">{{getBloodCount()}}</span>
              <span class="info-badge" ng-show= "shareMode && !previewMode">{{ ( member.additional_information.medical.blood.blood_type  || member.additional_information.medical.blood.notes ) ? 1 : 0}}</span>
              <span class="info-badge" ng-show= "previewMode && !publicMode  || setEcpPermission">{{permission.medical.blood.isAllSelected  && ( member.additional_information.medical.blood.blood_type || member.additional_information.medical.blood.notes ) ? 1 : 0}}</span>
              <span class="info-badge" ng-show= "publicMode">{{member.additional_information.medical.blood.blood_type ? 1 : 0}}</span>
        </div>
    </div>
    <div id="collapseBlood" class="panel-collapse collapse">
        <div class="panel-body">

        <div class="no-info" ng-show = "previewMode&&!publicMode" ng-if="!permission.medical.blood.isAllSelected || !member.additional_information.medical.blood.blood_type &&
                             !member.additional_information.medical.blood.notes" i18n="common.noInformationToDisplay"></div>

            <div class="no-info" ng-if="!member.additional_information.medical.blood.blood_type &&
                             !member.additional_information.medical.blood.notes" i18n="common.noInformationToDisplay" ng-show="!previewMode|| publicMode"></div>

            <ul class=" list-contaner  preview_data" ng-init="permission.medical.blood.id = member.additional_information.medical.blood.id" ng-class="{'bottom_spacing': !member.additional_information.medical.blood.blood_type && previewMode}">
                <li class="  col-sm-6 col-xs-12"> 
                    <div class="list-box" ng-show="showField(member.additional_information.medical.blood.blood_type, permission.medical.blood.isAllSelected) || showField(member.additional_information.medical.blood.notes, permission.medical.blood.isAllSelected)">
            <!--Start Heading -->
                    <div class="col-sm-12 list-info">
                            <label>
                                <div class="col-xs-1  text-center">
                                    <input type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox" cb-id = "bloodCheck" ng-click="toggleBloodInfo();medicalDataContent()" ng-model="permission.medical.blood.isAllSelected" ng-show="showField(member.additional_information.medical.blood.blood_type, permission.medical.blood.isAllSelected)">
                                </div>
                                <div ng-class="{'col-xs-10': !previewMode, 'col-xs-12': previewMode}">
                                    <b><strong i18n="common.bloodInfo" ng-show="showField(member.additional_information.medical.blood.blood_type, permission.medical.blood.isAllSelected) || showField(member.additional_information.medical.blood.notes, permission.medical.blood.isAllSelected)"></strong></b>
                                </div>
                            </label>
                    </div>
            <!--End Heading -->

                        <div class="col-sm-12" ng-show="showField(member.additional_information.medical.blood.blood_type, permission.medical.blood.isAllSelected)" ng-class="{'grayout': !permission.medical.blood.isAllSelected && !previewMode}">
                            <div class="list-info">
                                <label for="medical_blood_type">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.blood.blood_type"
                                               name="medical_blood_type" id="medical_blood_type" type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.bloodType"></div>
                                    <div class="no-padding right text-right col-xs-8">{{member.additional_information.medical.blood.blood_type | settingsFilter:'blood_types':'type'}}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-show="showField(member.additional_information.medical.blood.notes, permission.medical.blood.notes)" ng-class="{'grayout': !permission.medical.blood.isAllSelected && !previewMode}">
                            <div class="list-info">
                                <label for="medical_blood_notes">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.blood.notes"
                                               name="medical_blood_notes" id="medical_blood_notes" type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.notes"></div>
                                    <div class="no-padding right text-right col-xs-8">{{member.additional_information.medical.blood.notes}}</div>
                                </label>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>
<div class="panel panel-default">
    <div class="panel-heading">
        <div data-toggle="collapse" data-parent="" href="#collapseAllergies" class="collapse-header-allergies collapse-a collapsed accordion-toggle"
             ia-label>
            <i class="member-accordion-icon icon-allergy_info_icon"></i> <span i18n="common.allergyInfo"></span>
            <span class="info-badge" ng-show = "shareMode" >{{member.additional_information.medical.allergies.length}}</span>
            <span class="info-badge" ng-show= "!shareMode">{{getAllergiesCount()}}</span>

        </div>
    </div>
    <div id="collapseAllergies" class="panel-collapse collapse">
        <div class="panel-body">

             <div class="no-info" ng-if="member.additional_information.medical.allergies.length == 0" ng-show="shareMode || setEcpPermission" i18n="common.noInformationToDisplay"></div>

             <div class="no-info" ng-if="getAllergiesCount() == 0" ng-show = "!shareMode && !setEcpPermission" i18n="common.noInformationToDisplay"></div>

            <ul class="list-contaner " ng-class = "{ 'preview_data' : previewMode}">
                <li class=" col-sm-6 col-xs-12"  ng-repeat="allergy in member.additional_information.medical.allergies track by allergy.id" ng-init="permission.medical.allergies[$index].id = allergy.id" ng-class="{
                 medical.allergyCheckbox, 'email_mode' : publicMode, 'show_public_data' : publicMode && member.additional_information.medical.allergies[$index].name}" ng-if = "showField(allergy.name, permission.medical.allergies[$index].name)">
                    <div class="list-box">
                        <div class="col-sm-12 list-info">
                            <label>
                                <div class="col-xs-1  text-center">
                                    <input ng-model="medical.allergyCheckbox"
                                           type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox" id="allergy_{{$index}}" ng-click = "medicalDataContent()"/>
                                </div>
                                <div ng-class="{'col-xs-10': !previewMode, 'col-xs-12': previewMode}">
                                    <b><strong i18n="common.allergyNumber" data-number="{{$index + 1}}" ng-show = "showField(allergy.name, permission.medical.allergies[$index].name)"></strong></b>
                                </div>
                            </label>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.allergyCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_allergy_name_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.allergies[$index].name"
                                               name="medical_allergy_name_{{$index}}" id="medical_allergy_name_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,allergy_{{$index}}"/>
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.nameOfThing"></div>
                                    <div ng-show="showField(allergy.name, permission.medical.allergies[$index].name)" class="no-padding right text-right col-xs-8">{{allergy.name | settingsFilter:['allergies', 'categories']:'name'}}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.allergyCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_allergy_reaction_{{$index}}">
                                    <div class="col-xs-1 text-center" hidden>
                                        <input ng-model="permission.medical.allergies[$index].reaction"
                                               name="medical_allergy_reaction_{{$index}}" id="medical_allergy_reaction_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,allergy_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.reaction"></div>
                                    <div ng-show="showField(allergy.reaction, permission.medical.allergies[$index].reaction)" class="no-padding right text-right col-xs-8">{{allergy.reaction | settingsFilter:['allergies', 'reactions']:'name'}}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.allergyCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_allergy_severity_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.allergies[$index].severity"
                                               name="medical_allergy_severity_{{$index}}" id="medical_allergy_severity_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,allergy_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.severity"></div>
                                    <div ng-show="showField(allergy.severity, permission.medical.allergies[$index].severity)" class="no-padding right text-right col-xs-8">{{allergy.severity | settingsFilter:['allergies', 'severities']:'name'}}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.allergyCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_allergy_notes_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.allergies[$index].notes"
                                               name="medical_allergy_notes_{{$index}}" id="medical_allergy_notes_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,allergy_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.notes"></div>
                                    <div ng-show="showField(allergy.notes, permission.medical.allergies[$index].notes)" class="no-padding right text-right col-xs-8">{{allergy.notes}}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12   " ng-class="{'grayout': !medical.allergyCheckbox && !previewMode}" >
                            <div class=" list-info ">
                                <label for="medical_allergy_document_{{$index}}">
                                    <div class="col-xs-1 no-padding text-center" hidden>
                                        <input ng-model="permission.medical.allergies[$index].document"
                                               name="medical_allergy_document_{{$index}}" id="medical_allergy_document_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,allergy_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding attachment_border" i18n="common.attachment"></div>
                                    <div class="no-padding right text-right col-xs-12" ng-show="showField(allergy.document, permission.medical.allergies[$index].document)">
                                        <attachment file="allergy.document"></attachment>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
                    <input type="hidden" ng-model="permission.medical.allergies[$index].id"/>
                </li>
            </ul>
        </div>
    </div>
</div>
<div class="panel panel-default">
    <div class="panel-heading">
        <div data-toggle="collapse" data-parent="" href="#collapseMedications" class="collapse-header-medications collapse-a collapsed accordion-toggle"
             ia-label>
            <i class="member-accordion-icon icon-medication_info_icon"></i> <span i18n="common.medicationInfo"></span>
            <span class="info-badge" ng-show = "shareMode">{{member.additional_information.medical.medications.length}}</span>
            <span class="info-badge" ng-show = "!shareMode">{{getMedicationCount()}}</span>
        </div>
    </div>
    <div id="collapseMedications" class="panel-collapse collapse">
        <div class="panel-body">

             <div class="no-info" ng-if="member.additional_information.medical.medications.length == 0" ng-show="shareMode || setEcpPermission" i18n="common.noInformationToDisplay"></div>

             <div class="no-info" ng-if="getMedicationCount() == 0" ng-show = "!shareMode && !setEcpPermission" i18n="common.noInformationToDisplay"></div>

            <ul class="list-contaner  " ng-class = "{ 'preview_data' : previewMode}">
                <li class="  col-sm-6 col-xs-12" ng-repeat="medication in member.additional_information.medical.medications track by medication.id" ng-init="permission.medical.medications[$index].id = medication.id" ng-class="{
                medical.medicationCheckbox, 'email_mode' : publicMode, 'show_public_data' : publicMode && member.additional_information.medical.medications[$index].name}" ng-if="showField(medication.name, permission.medical.medications[$index].name)">
                    <div class="list-box">
                        <div class="col-sm-12 list-info">
                            <label>
                                <div class="col-xs-1  text-center">
                                
                                <input ng-model="medical.medicationCheckbox" ng-click="toggleMedication(permission.medical.medications[$index]);medicalDataContent()" type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox" id="medication_{{$index}}" />
                                </div>
                                <div ng-class="{'col-xs-10': !previewMode, 'col-xs-12': previewMode}">
                                    <b><strong ng-show="showField(medication.name, permission.medical.medications[$index].name)"
                                     i18n="common.medicationNumber" data-number="{{$index + 1}}"></strong></b>
                                </div>
                            </label>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.medicationCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_medication_name_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.medications[$index].name"
                                               name="medical_medication_name_{{$index}}" id="medical_medication_name_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,medication_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.nameOfThing"></div>
                                    <div ng-show="showField(medication.name, permission.medical.medications[$index].name)" class="no-padding right text-right col-xs-8">{{medication.name}}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.medicationCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_medication_status_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.medications[$index].status"
                                               name="medical_medication_status_{{$index}}" id="medical_medication_status_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,medication_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.status"></div>
                                    <div ng-show="showField(medication.status, permission.medical.medications[$index].status)" class="no-padding right text-right col-xs-8">{{medication.status | settingsFilter:['medications', 'statuses']:'status'}}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.medicationCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_medication_dosage_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.medications[$index].dosage"
                                               name="medical_medication_dosage_unit_{{$index}}" id="medical_medication_dosage_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,medication_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.dosage"></div>
                                    <div ng-show="showField(medication.dosage, permission.medical.medications[$index].dosage)" class="no-padding right text-right col-xs-8">{{medication.dosage}} {{medication.dosage_unit | settingsFilter:['medications', 'dosages']:'name'}}</div>
                                </label>
                            </div>
                        </div>
                        
                        <div class="col-sm-12" ng-class="{'grayout': !medical.medicationCheckbox && !previewMode}">
                            <div ng-if="medication.frequency_unit !=7" class="list-info">
                                <label for="medical_medication_frequency_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.medications[$index].frequency"
                                               name="medical_medication_frequency_{{$index}}" id="medical_medication_frequency_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,medication_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.medicationFrequency"></div>
                                    <div ng-if="medication.frequency_unit == 6 || showField(medication.frequency, permission.medical.medications[$index].frequency)" class="no-padding right text-right col-xs-8">{{medication.frequency ? medication.frequency:''}} {{medication.frequency_unit != 7 ? medication.frequency_unit: '' | settingsFilter:['medications', 'frequencies']:'name'}}</div>
                                </label>
                            </div>
                            <div ng-if="medication.frequency_unit == 7" class="list-info">
                                <label for="medical_medication_frequency_{{$index}}">
                                    <div class="col-xs-1 text-center" hidden>
                                        <input ng-model="permission.medical.medications[$index].frequency"
                                               name="medical_medication_frequency_{{$index}}" id="medical_medication_frequency_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,medication_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.medicationFrequency"></div>
                                    <div ng-if="medication.frequency_unit == 7" class="no-padding right text-right col-xs-8">
                                    {{medication.frequency}}
                                    {{ medication.frequency ? '': medication.frequency_unit | settingsFilter:['medications', 'frequencies']:'name'}}
                                    </div>
                                </label>
                            </div>
                        </div>

                        <div class="col-sm-12" ng-class="{'grayout': !medical.medicationCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_medication_purpose_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.medications[$index].purpose"
                                               name="medical_medication_purpose_{{$index}}" id="medical_medication_purpose_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,medication_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.purpose"></div>
                                    <div ng-show="showField(medication.purpose, permission.medical.medications[$index].purpose)" class="no-padding right text-right col-xs-8">{{medication.purpose}}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.medicationCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_medication_from_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.medications[$index].from"
                                               name="medical_medication_from_{{$index}}" id="medical_medication_from_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,medication_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.from"></div>
                                    <div ng-show="showField(medication.from.year, permission.medical.medications[$index].from)" class="no-padding right text-right col-xs-8">
                                    <span full-date year="medication.from.year" month="medication.from.month" day="medication.from.day"> </span></div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.medicationCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_medication_to_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.medications[$index].to"
                                               name="medical_medication_to_{{$index}}" id="medical_medication_to_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,medication_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.to"></div>
                                    <div ng-show="showField(medication.to.year, permission.medical.medications[$index].to)" class="no-padding right text-right col-xs-8">
                                        <span full-date year="medication.to.year" month="medication.to.month" day="medication.to.day"> </span>
                                    </div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.medicationCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_medication_notes_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.medications[$index].notes"
                                               name="medical_medication_notes_{{$index}}" id="medical_medication_notes_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,medication_{{$index}}"/>
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.notes"></div>
                                    <div ng-show="showField(medication.notes, permission.medical.medications[$index].notes)" class="no-padding right text-right col-xs-8">{{medication.notes}}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12   " ng-class="{'grayout': !medical.medicationCheckbox && !previewMode}" >
                            <div class=" list-info ">
                                <label for="medical_medication_document_{{$index}}">
                                    <div class="col-xs-1 no-padding text-center" hidden>
                                        <input ng-model="permission.medical.medications[$index].document"
                                               name="medical_medication_document_{{$index}}" id="medical_medication_document_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,medication_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding attachment_border" i18n="common.attachment"></div>
                                    <div class="no-padding right text-right col-xs-12" ng-show="showField(medication.document, permission.medical.medications[$index].document)">
                                        <attachment file="medication.document"></attachment>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>
<div class="panel panel-default">
    <div class="panel-heading">
        <div data-toggle="collapse" data-parent="" href="#collapseCovid" class="collapse-header-covid collapse-a collapsed accordion-toggle"
             ia-label>
            <i class="member-accordion-icon icon-coronavirus_icon"></i> <span i18n="common.covidtestheader"></span>
            <span class="info-badge" ng-show = "shareMode">{{member.additional_information.medical.covid_reports.length  }}</span>
            <span class="info-badge" ng-show = "!shareMode">{{getCovidReportsCount()}}</span>
        </div>
    </div>
    <div id="collapseCovid" class="panel-collapse collapse">
        <div class="panel-body">

             <div class="no-info" ng-if="member.additional_information.medical.covid_reports.length == 0" ng-show="shareMode || setEcpPermission" i18n="common.noInformationToDisplay"></div>

             <div class="no-info" ng-if="getCovidReportsCount() == 0" ng-show = "!shareMode && !setEcpPermission" i18n="common.noInformationToDisplay"></div>

            <ul class="list-contaner  " ng-class = "{ 'preview_data' : previewMode}">
                <li class="  col-sm-6 col-xs-12" ng-repeat="covid_report in member.additional_information.medical.covid_reports track by covid_report.id" ng-init="permission.medical.covid_reports[$index].id = covid_report.id" ng-class="{
                medical.covidCheckbox, 'email_mode' : publicMode, 'show_public_data' : publicMode && member.additional_information.medical.covid_reports[$index].name}" ng-if="showField(covid_report.pcategory, permission.medical.covid_reports[$index].pcategory)" > <!-- -->
                    <div class="list-box">
                        <div class="col-sm-12 list-info">
                            <label>
                                <div class="col-xs-1  text-center">
                                
                                <input ng-model="medical.covidCheckbox" ng-click="medicalDataContent();" type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox" id="covid_report_{{$index}}" /> 
                                </div>
                                <div ng-class="{'col-xs-10': !previewMode, 'col-xs-12': previewMode}">
                                    <b><strong ng-show="showField(covid_report.pname, permission.medical.covid_reports[$index].pname)"
                                     i18n="common.covidtestnumber" data-number="{{$index + 1}}"></strong></b>
                                </div>
                            </label>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.covidCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_covid_report_pcategory_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.covid_reports[$index].pcategory"
                                               name="medical_covid_report_pcategory_{{$index}}" id="medical_covid_report_pcategory_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,covid_report_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.category"></div>
                                    <div ng-show="showField(covid_report.pcategory, permission.medical.covid_reports[$index].pcategory)" class="no-padding right text-right col-xs-8">{{covid_report.pcategory  | CovidCatFilter:'name'}}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.covidCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_covid_report_pname_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.covid_reports[$index].pname"
                                               name="medical_covid_report_pname_{{$index}}" id="medical_covid_report_pname_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,covid_report_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.product"></div>
                                    <div ng-show="showField(covid_report.pname, permission.medical.covid_reports[$index].pname)" class="no-padding right text-right col-xs-8">{{covid_report.pname }}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.covidCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_covid_report_mfname_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.covid_reports[$index].mfname"
                                               name="medical_covid_report_mfname_{{$index}}" id="medical_covid_report_mfname_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,covid_report_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.manufacture"></div>
                                    <div ng-show="showField(covid_report.mfname, permission.medical.covid_reports[$index].mfname)" class="no-padding right text-right col-xs-8">{{covid_report.mfname}}</div>
                                </label>
                            </div>
                        </div>
                        
                        <div class="col-sm-12" ng-class="{'grayout': !medical.covidCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_covid_report_lotnumber_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.covid_reports[$index].lotnumber"
                                               name="medical_covid_report_lotnumber_{{$index}}" id="medical_covid_report_lotnumber_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,covid_report_{{$index}}" /> 
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.lotnumber"></div>
                                    <div ng-if="showField(covid_report.lotnumber, permission.medical.covid_reports[$index].lotnumber)" class="no-padding right text-right col-xs-8">{{covid_report.lotnumber ? covid_report.lotnumber :'-'}}</div>
                                </label>
                            </div>
                        </div>

                        <div class="col-sm-12" ng-class="{'grayout': !medical.covidCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_covid_report_srnumber_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.covid_reports[$index].srnumber"
                                               name="medical_covid_report_srnumber_{{$index}}" id="medical_covid_report_srnumber_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,covid_report_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.serialnumber"></div>
                                    <div ng-show="showField(covid_report.srnumber, permission.medical.covid_reports[$index].srnumber)" class="no-padding right text-right col-xs-8">{{covid_report.srnumber ? covid_report.srnumber: '-'}}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.covidCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_covid_report_result_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.covid_reports[$index].result"
                                               name="medical_covid_report_result_{{$index}}" id="medical_covid_report_result_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,covid_report_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.covidresult"></div>
                                    <div ng-show="showField(covid_report.result, permission.medical.covid_reports[$index].result)" class="no-padding right text-right col-xs-8">{{covid_report.result | CovidResultFilter:'name'}}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.covidCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_covid_report_coviddate_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.covid_reports[$index].coviddate"
                                               name="medical_covid_report_coviddate_{{$index}}" id="medical_covid_report_coviddate_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,covid_report_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.date"></div>
                                    <div ng-show="showField(covid_report.coviddate.year, permission.medical.covid_reports[$index].coviddate)" class="no-padding right text-right col-xs-8">
                                    <span full-date year="covid_report.coviddate.year" month="covid_report.coviddate.month" day="covid_report.coviddate.day"> </span></div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.covidCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_covid_report_notes_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.covid_reports[$index].notes"
                                               name="medical_covid_report_notes_{{$index}}" id="medical_covid_report_notes_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,covid_reports_{{$index}}"/>
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.notes"></div>
                                    <div ng-show="showField(covid_report.notes, permission.medical.covid_reports[$index].notes)" class="no-padding right text-right col-xs-8">{{covid_report.notes}}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12   " ng-class="{'grayout': !medical.covidCheckbox && !previewMode}" >
                            <div class=" list-info ">
                                <label for="medical_covid_report_document_{{$index}}">
                                    <div class="col-xs-1 no-padding text-center" hidden>
                                        <input ng-model="permission.medical.hospital_records[$index].file"
                                               name="medical_covid_report_document_{{$index}}" id="medical_covid_report_document_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,covid_reports_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding attachment_border" i18n="common.attachment"></div>
                                    <div class="no-padding right text-right col-xs-12" ng-show="showField(covid_report.document, permission.medical.covid_reports[$index].document) ">
                                        <attachment file="covid_report.document"></attachment>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>
<div class="panel panel-default">
    <div class="panel-heading">
        <div data-toggle="collapse" data-parent="" href="#collapseImmunizations" class="collapse-header-immunizations collapse-a collapsed accordion-toggle"
             ia-label>
            <i class="member-accordion-icon icon-immunization_info_icon"></i> <span i18n="common.immunizationInfo"></span>
            <span class="info-badge" ng-show = "shareMode">{{member.additional_information.medical.immunizations.length}}</span>
            <span class="info-badge" ng-show = "!shareMode">{{getImmunizationCount()}}</span>
        </div>
    </div>
    <div id="collapseImmunizations" class="panel-collapse collapse">
        <div class="panel-body">

             <div class="no-info" ng-if="member.additional_information.medical.immunizations.length == 0" ng-show="shareMode || setEcpPermission" i18n="common.noInformationToDisplay"></div>

             <div class="no-info" ng-if="getImmunizationCount() == 0" ng-show = "!shareMode && !setEcpPermission" i18n="common.noInformationToDisplay"></div>

            <ul class=" list-contaner" ng-class = "{ 'preview_data' : previewMode}">
                <li class="  col-xs-12 col-sm-6" ng-repeat="immunization in member.additional_information.medical.immunizations track by immunization.id" ng-init="permission.medical.immunizations[$index].id = immunization.id" ng-class="{  
                medical.immunizationCheckbox, 'email_mode' : publicMode, 'show_public_data' : publicMode && member.additional_information.medical.immunizations[$index].name}" ng-if="showField(immunization.name, permission.medical.immunizations[$index].name)">
                    <div class="list-box">
                        <div class="col-sm-12 list-info">
                            <label>
                                <div class="col-xs-1  text-center">
                                    <input ng-model="medical.immunizationCheckbox"
                                           type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox" id="immunization_{{$index}}" ng-click = "medicalDataContent()"/>
                                </div>
                                <div ng-class="{'col-xs-10': !previewMode, 'col-xs-12': previewMode}">
                                    <b><strong i18n="common.immunizationNumber" data-number="{{$index + 1}}" ng-show="showField(immunization.name, permission.medical.immunizations[$index].name)"></strong></b>
                                </div>
                            </label>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.immunizationCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_immunization_name_{{$index}}">
                                    <div class="col-xs-1 text-center" hidden>
                                        <input ng-model="permission.medical.immunizations[$index].name"
                                               name="medical_immunization_name_{{$index}}" id="medical_immunization_name_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,immunization_{{$index}}"/>
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.nameOfThing"></div>
                                    <div ng-show="showField(immunization.name, permission.medical.immunizations[$index].name)" class="no-padding right text-right col-xs-8">{{immunization.name | settingsFilter:'immunizations':'name'}}</div>
                                </label>
                            </div>
                        </div>
                        <!--  -->
                        <div class="col-sm-12" ng-class="{'grayout': !medical.immunizationCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_immunization_pname_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.immunizations[$index].pname"
                                               name="medical_immunization_pname_{{$index}}" id="medical_immunization_pname_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,immunization{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.product"></div>
                                    <div ng-show="showField(immunization.pname, permission.medical.immunizations[$index].pname)" class="no-padding right text-right col-xs-8">{{immunization.pname }}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.immunizationCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_immunization_mfname_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.immunizations[$index].mfname"
                                               name="medical_immunization_mfname_{{$index}}" id="medical_immunization_mfname_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,immunization_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.manufacture"></div>
                                    <div ng-show="showField(immunization.mfname, permission.medical.immunizations[$index].mfname)" class="no-padding right text-right col-xs-8">{{immunization.mfname}}</div>
                                </label>
                            </div>
                        </div>
                        
                        <div class="col-sm-12" ng-class="{'grayout': !medical.immunizationCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_immunization_lotnumber_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.immunizations[$index].lotnumber"
                                               name="medical_immunization_lotnumber_{{$index}}" id="medical_immunization_lotnumber_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,immunization_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.lotnumber"></div>
                                    <div ng-if="showField(immunization.lotnumber, permission.medical.immunizations[$index].lotnumber)" class="no-padding right text-right col-xs-8">{{immunization.lotnumber}}</div>
                                </label>
                            </div>
                        </div>

                        <div class="col-sm-12" ng-class="{'grayout': !medical.immunizationCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_immunization_srnumber_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.immunizations[$index].srnumber"
                                               name="medical_immunization_srnumber_{{$index}}" id="medical_immunization_srnumber_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,immunization_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.serialnumber"></div>
                                    <div ng-show="showField(immunization.srnumber, permission.medical.immunizations[$index].srnumber)" class="no-padding right text-right col-xs-8">{{immunization.srnumber}}</div>
                                </label>
                            </div>
                        </div>
                        <!-- <div class="col-sm-12" ng-class="{'grayout': !medical.covidCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_immunization_result_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.immunizations[$index].result"
                                               name="medical_immunization_result_{{$index}}" id="medical_immunization_result_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,immunization_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.covidresult"></div>
                                    <div ng-show="showField(immunization.result, permission.medical.immunizations[$index].result)" class="no-padding right text-right col-xs-8">{{immunization.result}}</div>
                                </label>
                            </div>
                        </div>-->
                        <div class="col-sm-12" ng-class="{'grayout': !medical.immunizationCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_immunization_date_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.immunizations[$index].date"
                                               name="medical_immunization_date_{{$index}}" id="medical_immunization_date_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,immunization_{{$index}}"/>
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.date"></div>
                                    <div ng-show="showField(immunization.date.year, permission.medical.immunizations[$index].date)" class="no-padding right text-right col-xs-8">
                                        <span full-date year="immunization.date.year" month="immunization.date.month" day="immunization.date.day"> </span>
                                    </div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.immunizationCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_immunization_series_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.immunizations[$index].series"
                                               name="medical_immunization_series_{{$index}}" id="medical_immunization_series_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,immunization_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.immunizationSeries"></div>
                                    <div ng-show="showField(immunization.info, permission.medical.immunizations[$index].series)"  class="no-padding right text-right col-xs-8">{{(immunization.info != null && immunization.info != '5' )? (immunization.info | VaccineSeries:'name'):immunization.series }}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.immunizationCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_immunization_notes_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.immunizations[$index].notes"
                                               name="medical_immunization_notes_{{$index}}" id="medical_immunization_notes_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,immunization_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.notes"></div>
                                    <div ng-show="showField(immunization.notes, permission.medical.immunizations[$index].notes)" class="no-padding right text-right col-xs-8">{{immunization.notes}}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12   " ng-class="{'grayout': !medical.immunizationCheckbox && !previewMode}" >
                            <div class=" list-info ">
                                <label for="medical_immunization_document_{{$index}}">
                                    <div class="col-xs-1 no-padding text-center" hidden>
                                        <input ng-model="permission.medical.immunizations[$index].document"
                                               name="medical_immunization_document_{{$index}}" id="medical_immunization_document_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,immunization_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding attachment_border" i18n="common.attachment"></div>
                                    <div class="no-padding right text-right col-xs-12" ng-show="showField(immunization.document, permission.medical.immunizations[$index].document)">
                                        <attachment file="immunization.document"></attachment>
                                    </div>
                                </label>
                            </div>
                        </div> 
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>
<div class="panel panel-default">
    <div class="panel-heading">
        <div data-toggle="collapse" data-parent="" href="#collapseMedical_conditions" class="collapse-header-medical-conditions collapse-a collapsed accordion-toggle"
             ia-label>
            <i class="member-accordion-icon icon-medical_condition_info_icon"></i> <span i18n="common.medicalConditionInfo"></span>
            <span class="info-badge" ng-show = "shareMode">{{member.additional_information.medical.medical_conditions.length}}</span>
            <span class="info-badge" ng-show = "!shareMode">{{getMedicalConditionCount()}}</span>
        </div>
    </div>
    <div id="collapseMedical_conditions" class="panel-collapse collapse">
        <div class="panel-body">

             <div class="no-info" ng-if="member.additional_information.medical.medical_conditions.length == 0" ng-show="shareMode || setEcpPermission" i18n="common.noInformationToDisplay"></div>

             <div class="no-info" ng-if="getMedicalConditionCount() == 0" ng-show = "!shareMode && !setEcpPermission" i18n="common.noInformationToDisplay"></div>

            <ul class="list-contaner " ng-class = "{ 'preview_data' : previewMode}">
                <li class="  col-sm-6 col-xs-12" ng-repeat="medical_condition in member.additional_information.medical.medical_conditions track by medical_condition.id" ng-init="permission.medical.medical_conditions[$index].id = medical_condition.id" ng-class="{
                medical.medical_condition_Checkbox, 'email_mode' : publicMode, 'show_public_data' : publicMode && member.additional_information.medical.medical_conditions[$index].name}" ng-if="showField(medical_condition.name, permission.medical.medical_conditions[$index].name)">
                    <div class="list-box">
                        <div class="col-sm-12 list-info">
                            <label>
                                <div class="col-xs-1  text-center">
                                    <input ng-model="medical.medical_condition_Checkbox"
                                           type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox" id="medical_condition_{{$index}}" ng-click = "medicalDataContent()"/>
                                </div>
                                <div ng-class="{'col-xs-10': !previewMode, 'col-xs-12': previewMode}">
                                    <b><strong i18n="common.medicalConditionNumber" data-number="{{$index + 1}}" ng-show="showField(medical_condition.name, permission.medical.medical_conditions[$index].name)"></strong></b>
                                </div>
                            </label>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.medical_condition_Checkbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_conditions_name_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.medical_conditions[$index].name"
                                               name="medical_conditions_name_{{$index}}" id="medical_conditions_name_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,medical_condition_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.nameOfThing"></div>
                                    <div ng-show="showField(medical_condition.name, permission.medical.medical_conditions[$index].name)" class="no-padding right text-right col-xs-8">{{medical_condition.name | settingsFilter:['medicals', 'conditions']:'name'}}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.medical_condition_Checkbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_conditions_status_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.medical_conditions[$index].status"
                                               name="medical_conditions_status_{{$index}}" id="medical_conditions_status_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,medical_condition_{{$index}}"/>
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.status"></div>
                                    <div ng-show="showField(medical_condition.status, permission.medical.medical_conditions[$index].status)" class="no-padding right text-right col-xs-8">{{medical_condition.status | settingsFilter:['medicals', 'statuses']:'status'}}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.medical_condition_Checkbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_medications_from_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.medical_conditions[$index].from"
                                               name="medical_medications_from_{{$index}}" id="medical_medications_from_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,medical_condition_{{$index}}"/>
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.from"></div>
                                    <div ng-show="showField(medical_condition.from.year, permission.medical.medical_conditions[$index].from)" class="no-padding right text-right col-xs-8">
                                    <span full-date year="medical_condition.from.year" month="medical_condition.from.month" day="medical_condition.from.day"> </span>
                                    </div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.medical_condition_Checkbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_medications_to_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.medical_conditions[$index].to"
                                               name="medical_medications_to_{{$index}}" id="medical_medications_to_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,medical_condition_{{$index}}"/>
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.to"></div>
                                    <div ng-show="showField(medical_condition.to.year, permission.medical.medical_conditions[$index].to)" class="no-padding right text-right col-xs-8">
                                        <span full-date year="medical_condition.to.year" month="medical_condition.to.month" day="medical_condition.to.day"> </span>
                                    </div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.medical_condition_Checkbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_conditions_notes_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.medical_conditions[$index].notes"
                                               name="medical_conditions_notes_{{$index}}" id="medical_conditions_notes_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,medical_condition_{{$index}}"/>
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.notes"></div>
                                    <div ng-show="showField(medical_condition.notes, permission.medical.medical_conditions[$index].notes)" class="no-padding right text-right col-xs-8">{{medical_condition.notes}}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12   " ng-class="{'grayout': !medical.medical_condition_Checkbox && !previewMode}" >
                            <div class=" list-info ">
                                <label for="medical_conditions_document_{{$index}}">
                                    <div class="col-xs-1 no-padding text-center" hidden>
                                        <input ng-model="permission.medical.medical_conditions[$index].document"
                                               name="medical_conditions_document_{{$index}}" id="medical_conditions_document_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,medical_condition_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding attachment_border" i18n="common.attachment"></div>
                                    <div class="no-padding right text-right col-xs-12" ng-show="showField(medical_condition.document, permission.medical.medical_conditions[$index].document)">
                                        <attachment file="medical_condition.document"></attachment>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>
<div class="panel panel-default">
    <div class="panel-heading">
        <div data-toggle="collapse" data-parent="" href="#collapseSurgical_history" class="collapse-header-surgical-history collapse-a collapsed accordion-toggle"
             ia-label>
            <i class="member-accordion-icon icon-surgical_history_info_icon"></i> <span i18n="common.surgicalHistoryInfo"></span>
            <span class="info-badge" ng-show = "shareMode">{{member.additional_information.medical.surgical_history.length}}</span>
            <span class="info-badge" ng-show = "!shareMode">{{getSurgicalHistoryCount()}}</span>
        </div>
    </div>
    <div id="collapseSurgical_history" class="panel-collapse collapse">
        <div class="panel-body">

             <div class="no-info" ng-if="member.additional_information.medical.surgical_history.length == 0" ng-show="shareMode || setEcpPermission" i18n="common.noInformationToDisplay"></div>

             <div class="no-info" ng-if="getSurgicalHistoryCount() == 0" ng-show = "!shareMode && !setEcpPermission" i18n="common.noInformationToDisplay"></div>

            <ul class=" list-contaner" ng-class = "{ 'preview_data' : previewMode}">
                <li class="  col-sm-6 col-xs-12"  ng-repeat="surgical in member.additional_information.medical.surgical_history track by surgical.id" ng-init="permission.medical.surgical_history[$index].id = surgical.id" ng-class="{ 
                medical.surgicalCheckbox, 'email_mode' : publicMode, 'show_public_data' : publicMode && member.additional_information.medical.surgical_history[$index].type}" ng-if="showField(surgical.type, permission.medical.surgical_history[$index].type)">
                    <div class="list-box">
                        <div class="col-sm-12 list-info">
                            <label>
                                <div class="col-xs-1  text-center">
                                    <input ng-model="medical.surgicalCheckbox"
                                           type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox" id="surgical_{{$index}}" ng-click = "medicalDataContent()"/>
                                </div>
                                <div ng-class="{'col-xs-10': !previewMode, 'col-xs-12': previewMode}">
                                    <b><strong i18n="common.surgicalNumber" data-number="{{$index + 1}}" ng-show="showField(surgical.type, permission.medical.surgical_history[$index].type)"></strong></b>
                                </div>
                            </label>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.surgicalCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_surgical_type_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.surgical_history[$index].type"
                                               name="medical_surgical_type_{{$index}}" id="medical_surgical_type_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,surgical_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.category"></div>
                                    <div ng-show="showField(surgical.type, permission.medical.surgical_history[$index].type)" class="no-padding right text-right col-xs-8">{{surgical.type | settingsFilter:'surgeries':'name' }}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.surgicalCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_surgical_date_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.surgical_history[$index].date"
                                               name="medical_surgical_date_{{$index}}" id="medical_surgical_date_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,surgical_{{$index}}"/>
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.date"></div>
                                    <div ng-show="showField(surgical.date.year, permission.medical.surgical_history[$index].date)" class="no-padding right text-right col-xs-8">
                                        <span full-date year="surgical.date.year" month="surgical.date.month" day="surgical.date.day"> </span>
                                    </div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.surgicalCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_surgical_reason_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.surgical_history[$index].reason"
                                               name="medical_surgical_reason_{{$index}}" id="medical_surgical_reason_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,surgical_{{$index}}"/>
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.reason"></div>
                                    <div ng-show="showField(surgical.reason, permission.medical.surgical_history[$index].reason)" class="no-padding right text-right col-xs-8">{{surgical.reason}}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.surgicalCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_surgical_notes_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.surgical_history[$index].notes"
                                               name="medical_surgical_notes_{{$index}}" id="medical_surgical_notes_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,surgical_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.notes"></div>
                                    <div ng-show="showField(surgical.notes, permission.medical.surgical_history[$index].notes)" class="no-padding right text-right col-xs-8">{{surgical.notes}}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12   " ng-class="{'grayout': !medical.surgicalCheckbox && !previewMode}" >
                            <div class=" list-info ">
                                <label for="medical_surgical_document_{{$index}}">
                                    <div class="col-xs-1 no-padding text-center" hidden>
                                        <input ng-model="permission.medical.surgical_history[$index].document"
                                               name="medical_surgical_document_{{$index}}" id="medical_surgical_document_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,surgical_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding attachment_border" i18n="common.attachment"></div>
                                    <div class="no-padding right text-right col-xs-12" ng-show="showField(surgical.document, permission.medical.surgical_history[$index].document)">
                                        <attachment file="surgical.document"></attachment>
                                    </div>
                                </label>
                            </div>
                        </div>
                        <input type="hidden" ng-model="permission.medical.surgical_history[$index].id"/>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>
<div class="panel panel-default">
    <div class="panel-heading">
        <div data-toggle="collapse" data-parent="" href="#collapseFamily_medical_history" class="collapse-header-medical-history collapse-a collapsed accordion-toggle"
             ia-label>
            <i class="member-accordion-icon icon-familys_past_medical_history_info_icon"></i> <span i18n="common.familyPastMedicalHistory"></span>
            <span class="info-badge" ng-show = "shareMode">{{member.additional_information.medical.family_medical_history.length}}</span>
            <span class="info-badge" ng-show = "!shareMode">{{getFamilyMedHistCount()}}</span>
        </div>
    </div>
    <div id="collapseFamily_medical_history" class="panel-collapse collapse">
        <div class="panel-body">

             <div class="no-info" ng-if="member.additional_information.medical.family_medical_history.length == 0" ng-show="shareMode || setEcpPermission" i18n="common.noInformationToDisplay"></div>

             <div class="no-info" ng-if="getFamilyMedHistCount() == 0" ng-show = "!shareMode && !setEcpPermission" i18n="common.noInformationToDisplay"></div>

            <ul class="list-contaner  " ng-class = "{ 'preview_data' : previewMode}">
                <li class="  col-xs-12 col-sm-6" ng-repeat="medical_history in member.additional_information.medical.family_medical_history track by medical_history.id" ng-init="permission.medical.family_medical_history[$index].id = medical_history.id" ng-class="{ 
                :medical.familyHistoryCheckbox, 'email_mode' : publicMode, 'show_public_data' : publicMode && member.additional_information.medical.family_medical_history[$index].type}" ng-if="showField(medical_history.type, permission.medical.family_medical_history[$index].type)">
                    <div class="list-box">
                        <div class="col-sm-12 list-info">
                            <label>
                                <div class="col-xs-1  text-center">
                                    <input ng-model="medical.familyHistoryCheckbox"
                                           type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox" id="family_medical_history_{{$index}}" ng-click = "medicalDataContent()"/>
                                </div>
                                <div ng-class="{'col-xs-10': !previewMode, 'col-xs-12': previewMode}">
                                    <b><strong i18n="common.familyMedicationHistoryNumber" data-number="{{$index + 1}}" ng-show="showField(medical_history.type, permission.medical.family_medical_history[$index].type)"></strong></b>
                                </div>
                            </label>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.familyHistoryCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_history_type_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.family_medical_history[$index].type"
                                               name="medical_history_type_{{$index}}" id="medical_history_type_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,family_medical_history_{{$index}}"/>
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.medicalCondition"></div>
                                    <div ng-show="showField(medical_history.type, permission.medical.family_medical_history[$index].type)" class="no-padding right text-right col-xs-8">{{medical_history.type | settingsFilter:['family_history', 'conditions']:'name'}}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.familyHistoryCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_history_family_member_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.family_medical_history[$index].relationship"
                                               name="medical_history_family_member_{{$index}}" id="medical_history_family_member_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,family_medical_history_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.familyMember"></div>
                                    <div ng-show="showField(medical_history.relationship, permission.medical.family_medical_history[$index].relationship)" class="no-padding right text-right col-xs-8">{{medical_history.relationship | settingsFilter:['family_history', 'members']:'name'}}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.familyHistoryCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_history_severity_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.family_medical_history[$index].severity"
                                               name="medical_history_severity_{{$index}}" id="medical_history_severity_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,family_medical_history_{{$index}}"/>
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.severity"></div>
                                    <div ng-show="showField(medical_history.severity, permission.medical.family_medical_history[$index].severity)" class="no-padding right text-right col-xs-8">{{medical_history.severity | settingsFilter:['family_history', 'severities']:'name'}}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !medical.familyHistoryCheckbox && !previewMode}">
                            <div class="list-info">
                                <label for="medical_history_notes_{{$index}}">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.family_medical_history[$index].notes"
                                               name="medical_history_notes_{{$index}}" id="medical_history_notes_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,family_medical_history_{{$index}}"/>
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.notes"></div>
                                    <div ng-show="showField(medical_history.notes, permission.medical.family_medical_history[$index].notes)" class="no-padding right text-right col-xs-8">{{medical_history.notes}}</div>
                                </label>
                            </div>
                        </div>
                        <input type="hidden" ng-model="permission.medical.family_medical_history[$index].id"/>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>
<div class="panel panel-default">
    <div class="panel-heading">
        <div data-toggle="collapse" data-parent="" href="#collapseHospital_records" class="collapse-header-hospital-records collapse-a collapsed accordion-toggle"
             ia-label>
            <i class="member-accordion-icon icon-hospital_record_icon"></i> <span i18n="common.hospitalRecords"></span>
            <span class="info-badge" ng-show = "shareMode">{{member.additional_information.medical.hospital_records.length}}</span>
            <span class="info-badge" ng-show = "!shareMode">{{getHospitalRecordsCount()}}</span>
        </div>
    </div>
    <div id="collapseHospital_records" class="panel-collapse collapse">
        <div class="panel-body">

             <div class="no-info" ng-if="member.additional_information.medical.hospital_records.length == 0" ng-show="shareMode || setEcpPermission" i18n="common.noInformationToDisplay"></div>

             <div class="no-info" ng-if="getHospitalRecordsCount() == 0" ng-show = "!shareMode && !setEcpPermission" i18n="common.noInformationToDisplay"></div>

            <ul class="list-contaner" ng-class = "{ 'preview_data' : previewMode}">
                <li class="col-xs-12 col-sm-6" ng-repeat="hospital_record in member.additional_information.medical.hospital_records track by hospital_record.id" ng-init="permission.medical.hospital_records[$index].id = hospital_record.id" ng-class="{ 
                lifestyle.hosptialRecordCheck, 'email_mode' : publicMode, 'show_public_data' : publicMode && (member.additional_information.medical.hospital_records[$index].file ||
                member.additional_information.medical.hospital_records[$index].notes||
                member.additional_information.medical.hospital_records[$index].date ||
                member.additional_information.medical.hospital_records[$index].practitioner ||
                member.additional_information.medical.hospital_records[$index].category
                )}" ng-if="showField(hospital_record.date.year, permission.medical.hospital_records[$index].date) || showField(hospital_record.notes, permission.medical.hospital_records[$index].notes)  || showField(hospital_record.category, permission.medical.hospital_records[$index].category) || showField(hospital_record.practitioner, permission.medical.hospital_records[$index].practitioner) || showField(hospital_record.file, permission.medical.hospital_records[$index].file)" >
            <!--  -->
                    <div class="list-box">
                        <div class="col-sm-12 list-info">
                            <label>
                                <div class="col-xs-1 no-padding text-center">
                                    <input ng-model="lifestyle.hosptialRecordCheck"
                                           type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox" id="hospitalRecord_{{$index}}" ng-click = "recordDataContent()">
                                </div>
                                <div ng-class="{'col-xs-10': !previewMode, 'col-xs-12': previewMode}">
                                <b><strong i18n="common.hospitalRecordNumber" data-number="{{$index + 1}}"></strong></b>
                                    </div>
                            </label>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !lifestyle.hosptialRecordCheck && !previewMode}">
                            <div class="list-info">
                                <label for="hospital_records_date_{{$index}}">
                                    <div class="col-xs-1 no-padding text-center" hidden>
                                        <input ng-model="permission.medical.hospital_records[$index].date"
                                               name="hospital_records_date_{{$index}}" id="hospital_records_date_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,hospitalRecord_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.date"></div>
                                    <div ng-show="showField(hospital_record.date.year, permission.medical.hospital_records[$index].date)" class="no-padding right text-right  col-xs-8">
                                    <span full-date year="hospital_record.date.year" month="hospital_record.date.month" day="hospital_record.date.day"> </span>
                                    </div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !lifestyle.hosptialRecordCheck && !previewMode}">
                            <div class="list-info">
                                <label for="hospital_records_category_{{$index}}">
                                    <div class="col-xs-1 no-padding text-center" hidden>
                                        <input ng-model="permission.medical.hospital_records[$index].category"
                                               name="hospital_records_category_{{$index}}" id="hospital_records_category_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,hospitalRecord_{{$index}}" />
                                    </div>

                                    <div class="col-xs-4 no-padding" i18n="common.category"></div>
                                    <div class="no-padding right text-right  col-xs-8">{{hospital_record.category | settingsFilter:'hospitalisation_reasons':'name'}}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !lifestyle.hosptialRecordCheck && !previewMode}">
                            <div class="list-info">
                                <label for="hospital_records_practitioner_{{$index}}">
                                    <div class="col-xs-1 no-padding text-center" hidden>
                                        <input ng-model="permission.medical.hospital_records[$index].practitioner"
                                               name="hospital_records_practitioner_{{$index}}" id="hospital_records_practitioner_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,hospitalRecord_{{$index}}"/>
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.practitionerName"></div>
                                    <div ng-show="showField(hospital_record.practitioner, permission.medical.hospital_records[$index].practitioner)" class="no-padding right text-right  col-xs-8">
                                        <p>{{PersonName.build(hospital_record.practitioner.first_name, null, hospital_record.practitioner.last_name)}}</p>
                                    </div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-class="{'grayout': !lifestyle.hosptialRecordCheck && !previewMode}">
                            <div class="list-info" ng-class="{'ecp_permissions_attachment': setEcpPermission}">
                                <label for="hospital_records_notes_{{$index}}">
                                    <div class="col-xs-1 no-padding text-center" hidden>
                                        <input ng-model="permission.medical.hospital_records[$index].notes"
                                               name="hospital_records_notes_{{$index}}" id="hospital_records_notes_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,hospitalRecord_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.notes"></div>
                                    <div ng-show="showField(hospital_record.notes, permission.medical.hospital_records[$index].notes)" class="no-padding right text-right  col-xs-8">{{hospital_record.notes}}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12   " ng-class="{'grayout': !lifestyle.hosptialRecordCheck && !previewMode}"  ng-class="{'grayout': !lifestyle.hosptialRecordCheck && !previewMode}">
                            <div class=" list-info " ng-class="{'ecp_permissions_attachment': setEcpPermission || shareMode}">
                                <label for="hospital_records_file_{{$index}}">
                                    <div class="col-xs-1 no-padding text-center" hidden>
                                        <input ng-model="permission.medical.hospital_records[$index].file"
                                               name="hospital_records_file_{{$index}}" id="hospital_records_file_{{$index}}"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox,hospitalRecord_{{$index}}" />
                                    </div>
                                    <div class="col-xs-4 no-padding attachment_border" i18n="common.attachment"></div>
                                    <div class="no-padding right text-right col-xs-12" ng-show="showField(hospital_record.file, permission.medical.hospital_records[$index].file)">
                                        <attachment file="hospital_record.file"></attachment>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>
<div class="panel panel-default">
    <div class="panel-heading">
        <div data-toggle="collapse" data-parent="" href="#collapseOrgan_donor" class="collapse-header-organ-donor collapse-a collapsed accordion-toggle"
             ia-label>
            <i class="member-accordion-icon icon-organ_donor_status_info_icon"></i> <span i18n="common.organDonorStatus"></span>
            <span class="info-badge" ng-show= "!shareMode && !previewMode && !setEcpPermission">{{getOrganDonorCount()}}</span>
            <span class="info-badge" ng-show= "shareMode && !previewMode">{{member.additional_information.medical.organ_donor.status? 1 : 0}}</span>
            <span class="info-badge" ng-show= "previewMode && !publicMode || setEcpPermission">{{permission.medical.organ_donor.isAllSelected && member.additional_information.medical.organ_donor.status ? 1 : 0}}</span>
            <span class="info-badge" ng-show= "publicMode">{{member.additional_information.medical.organ_donor.status? 1 : 0}}</span>
        </div>
    </div>
    <div id="collapseOrgan_donor" class="panel-collapse collapse">
        <div class="panel-body">

        <div class="no-info" ng-show = "previewMode&&!publicMode" ng-if="!permission.medical.organ_donor.isAllSelected || !member.additional_information.medical.organ_donor.status 
            && !member.additional_information.medical.organ_donor.condition &&
            !member.additional_information.medical.organ_donor.card &&
            !member.additional_information.medical.organ_donor.notes" 
             i18n="common.noInformationToDisplay"></div>

            <div class="no-info" ng-if="!member.additional_information.medical.organ_donor.status 
            && !member.additional_information.medical.organ_donor.condition &&
            !member.additional_information.medical.organ_donor.card &&
            !member.additional_information.medical.organ_donor.notes" i18n="common.noInformationToDisplay" ng-show="!previewMode || publicMode"></div>

            <ul class=" list-contaner  preview_data" ng-init="permission.medical.organ_donor.id = member.additional_information.medical.organ_donor.id" ng-class="{'bottom_spacing': !member.additional_information.medical.organ_donor.status && previewMode}">
                <li class=" col-sm-6 col-xs-12">
                    <div ng-class="{'list-box':showField(member.additional_information.medical.organ_donor.status, permission.medical.organ_donor.isAllSelected)}" ng-if="showField(member.additional_information.medical.organ_donor.status, permission.medical.organ_donor.isAllSelected)">

            <!--Start Heading -->
                    <div class="col-sm-12 list-info">
                            <label>
                                <div class="col-xs-1  text-center">
                                    <input ng-model="permission.medical.organ_donor.isAllSelected"
                                           type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox" cb-id = "organDonorCheck" ng-click="toggleOrganInfo();medicalDataContent()" ng-show="showField(member.additional_information.medical.organ_donor.status, permission.medical.organ_donor.isAllSelected)">
                                </div>
                                <div ng-class="{'col-xs-10': !previewMode, 'col-xs-12': previewMode}">
                                    <b><strong i18n="common.organDonor" ng-show="showField(member.additional_information.medical.organ_donor.status, permission.medical.organ_donor.isAllSelected)"></strong></b>
                                </div>
                            </label>
                        </div>
            <!--End Heading -->

                        <div class="col-sm-12" ng-show="showField(member.additional_information.medical.organ_donor.status, permission.medical.organ_donor.isAllSelected)" ng-class="{'grayout': !permission.medical.organ_donor.isAllSelected && !previewMode}">
                            <div class="list-info">
                                <label for="organ_donor_status">
                                    <div class="col-xs-1  text-center" hidden>
                                        <input ng-model="permission.medical.organ_donor.status"
                                               name="organ_donor_status" id="organ_donor_status" type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox"/>
                                    
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.status"></div>
                                    <div class="no-padding right text-right col-xs-8">
                                        {{member.additional_information.medical.organ_donor.status | settingsFilter:['organ_donor', 'statuses']:'status'}}
                                    </div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-show="showField(member.additional_information.medical.organ_donor.condition, permission.medical.organ_donor.isAllSelected)" ng-class="{'grayout': !permission.medical.organ_donor.isAllSelected && !previewMode}">
                            <div class="list-info">
                                <label for="organ_donor_condition">
                                    <div class="col-xs-1 no-right-padding text-center" hidden>
                                        <input ng-model="permission.medical.organ_donor.condition"
                                                name="organ_donor_condition" id="organ_donor_condition"
                                                type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox"/>
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.condition"></div>
                                    <div class="no-padding right text-right col-xs-8">
                                        {{member.additional_information.medical.organ_donor.condition | settingsFilter:['organ_donor', 'conditions']:'name'}}</div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-show="showField(member.additional_information.medical.organ_donor.notes, permission.medical.organ_donor.isAllSelected)" ng-class="{'grayout': !permission.medical.organ_donor.isAllSelected && !previewMode}">
                            <div class="list-info">
                                <label for="organ_donor_notes">
                                    <div class="col-xs-1 no-padding text-center" hidden>
                                        <input ng-model="permission.medical.organ_donor.notes"
                                               name="organ_donor_notes" id="organ_donor_notes"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox"/>
                                    </div>
                                    <div class="col-xs-4 no-padding" i18n="common.notes"></div>
                                        <div class="no-padding right text-right col-xs-8">{{member.additional_information.medical.organ_donor.notes}}
                                        </div>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-show="showField(member.additional_information.medical.organ_donor.card, permission.medical.organ_donor.isAllSelected)" ng-class="{'grayout': !permission.medical.organ_donor.isAllSelected && !previewMode}">
                            <div class="list-info" ng-class="{'ecp_permissions_attachment': setEcpPermission || shareMode}">
                                <label for="organ_donor_registration_card">
                                    <div class="col-xs-1 no-padding text-center" hidden>
                                        <input ng-model="permission.medical.organ_donor.card"
                                               name="organ_donor_registration_card" id="organ_donor_registration_card"
                                               type="checkbox" select-all-checkbox cb-ascendants="medicalCheckbox"/>
                                    </div>
                                    <div class="col-xs-4 no-padding attachment_border no-wrap" i18n="common.organDonorRegistrationCard"></div>
                                    <div class="no-padding right text-right col-xs-12" ><attachment file="member.additional_information.medical.organ_donor.card"></attachment></div>
                                </label>
                            </div>
                        </div>
                       
                        <input type="hidden" ng-model="permission.medical.organ_donor.id"/>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>
