<!doctype html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <title>iCE Angel - ID&#0153; | Member Profile</title>
    </head>
    <body>
        <style type="text/css">
        @page
        {
            size: auto;   /* auto is the initial value */

            /* this affects the margin in the printer settings */
            margin: 15mm 15mm 15mm 15mm;
        }

        body
        {
            /* this affects the margin on the content before sending to printer */
            margin: 0px;
        }

        @font-face {
            font-family: arialuni;
            src: url("{{ public_path('assets/fonts/ARIALUNI.TTF') }}") format('truetype'), local('Times New Roman');
        }

        p { font-family: 'arialuni' }

        table{
            font-family: 'arialuni';
            page-break-inside:auto;
            font-size: 10px;
            background-color: #ffffff;
            border: none;
            color: #545454;
        }

        tr {
            page-break-inside:avoid;
            page-break-after:auto;
        }
        thead { display:table-header-group }
        tfoot { display:table-footer-group }


        h1{
            font-size: 20px;
        }

        h4 {
            font-size: 20px;
            color: #55c7f3;
            height: 15px;
            margin: 10px 0px 0px 0px;
        }

        h5{
            font-size: 16px;
            color: #919399;
            font-weight: bolder;
            margin: 10px 0px;
        }

        .sub-topic{
            border-bottom: 1px solid #919399;
        }

        h6{
            font-size: 14px;
        }
        h6.topic {
            color: #000;
            border-bottom: 1px solid #000;
            font-size: 16px;
        }
        .legend{
            border: none;
            border-bottom: 1px solid #bbb9be;
            height: 1px;
            /*line-height: 1px;*/
        }
        fieldset{
        text-align: center;
        border-left: none;
        border-right: none;
        border-bottom: none;
        border-width: 1px;
        }
        img{
        border: none;
        }
        a {
        width: 100px;
        word-break: break-all;
        font-size: 8px;
        color: #25bafa;
        }

        td.underline {
        border-bottom: 1px solid #bbb9be;
        }
        td.subtitle {
        /*line-height: 40px;*/
        }
        .center-space{
        /*width: '2px';*/
        }
        .section-space{
            height: 10px;
        }
        .sub-section-space {
            height: 3px;
        }
        .sub-sub-section {
            padding-bottom: 5px;
        }
        
        .logo {
            width: 45pt;
        }
        .sitename{
            margin: 15px 0px;
            font-size: xlarge;
        }

        .main-title{
            color: #000;
            font-size: 24pt;
            margin: 5px 0px;
        }

        .secondary-title{
            color: #b2b2b2;
            font-size: 10pt;
            margin: 5px 0px;
        }

        .main-color{
        color: #55c7f3;
        }
        .vertical-line{
        border-right: 1px solid #bbb9be;
        }

        .print-header{
            margin-left: auto;
            margin-right: auto;
        }

        .print-footer{
            position: fixed;
            bottom: -10px;
        }

        .record-header{
            text-transform: uppercase;
            padding-top: 20px;
        }

        @media print {

            thead { display: table-header-group; }
            tfoot { display: none; }
            /*tbody { d }*/

            * {-webkit-print-color-adjust:exact;}

            .page-break{
                    page-break-before: auto;
            }
            
            tbody{
                display: table-body-group;
                font-size: 10px;
                color: #000;
                margin-top: 0.1mm;
                margin-bottom: 1.5mm;
            }

            table { font-family: 'Arial'; page-break-inside:auto;}
            tr { 
                page-break-inside:avoid !important;
                page-break-after:auto;
                -webkit-column-break-inside: avoid;
                break-inside: avoid;
                margin-top: 2mm;
                margin-bottom: 2mm;
            }

            table.unbreakable {
                padding-top: 2mm;
            }
            table.unbreakable tr td, table.unbreakable tr th {
                page-break-inside: avoid !important;
            }

            .print-friendly tbody tr td:before,
            .print-friendly tbody tr td:after {
                content : "" ;
                height : 2px ;
                position: relative;
                display : block ;
                page-break-inside:avoid;
                page-break-after:auto;
               -webkit-column-break-inside: avoid;
               break-inside: avoid;
            }

            .avoid-break{
                page-break-inside: avoid !important;
                margin: 6px 0px 4px 0px;
            }

            .always-break{
                page-break-inside: always !important;
                margin: 4px 0px 4px 0px;
                display: block;
            }

        }

        @media screen {
            thead { display: none; }
            tfoot { display: none; }

            .print-friendly {
                margin-bottom: 2px;
            }
        }
        
        </style>
        <table class="print-friendly" width="100%" cellpadding="3" cellspacing="0" >
            <col width="20%">
            <col width="25%">
            <col width="2%">
            <col width="2%">
            <col width="25%">
            <col width="20%">
            <thead>
                <tr>
                    <th width="20%"></th>
                    <th width="25%"></th>
                    <th width="2%"></th>
                    <th width="2%"></th>
                    <th width="25%"></th>
                    <th width="20%"></th>
                </tr>
                <tr>
                    <th colspan="2" align="left" style="vertical-align: top;" >
                        <div style="display: flex;">
                        <div class="logo">
                            <svg version="1.0" xmlns="http://www.w3.org/2000/svg"
                             width="36.4000000pt" height="36.6000000pt" viewBox="0 0 324.000000 326.000000"
                             preserveAspectRatio="xMidYMid meet">
                            <g class="ice-logo" transform="translate(0.000000,326.000000) scale(0.100000,-0.100000)"
                            fill="#37b2fa" stroke="none">
                            <path class="ice-logo" d="M1350 3249 c-440 -43 -896 -189 -1274 -407 l-79 -45 6 -201 c21 -727 280 -1391 750 -1917 216 -242 516 -486 785 -637 l73 -42 79 40 c43 22 139 80 214 130 564 377 961 888 1167 1500 105 314 169 699 169 1019 l0 109 -67 40 c-330 195 -739 335 -1163 398 -127 18 -525 27 -660 13z m729 -475 c96 -28 171 -123 171 -215 0 -73 -18 -117 -68 -169 -96 -99 -239 -101 -336 -4 -131 132 -65 350 119 395 46 11 57 10 114 -7z m-354 -460 c74 -19 135 -54 198 -113 121 -113 159 -261 122 -472 -76 -437 -432 -775 -869 -827 -78 -10 -75 -3 9 22 221 67 434 268 514 486 49 132 66 319 38 397 -22 60 -72 117 -128 148 -48 27 -63 30 -139 30 -68 0 -93 -5 -125 -22 -61 -33 -115 -95 -136 -155 -15 -44 -19 -50 -26 -33 -17 42 -8 148 17 200 34 70 107 139 175 164 61 23 165 28 211 11 49 -19 51 6 3 31 -58 30 -194 38 -258 16 l-43 -15 26 26 c95 100 267 144 411 106z"/>
                            </g>
                            </svg>
                        </div>
                        <div style="flex: 1;">
                            <h4 class="sitename"> {{$decoration['sitename']}} </h4>
                        </div>
                        </div>
                    </th>
                    <th colspan="4" align="right">
                         <!-- <img width="300" height="120" src="{{$decoration['logo']}}" alt="iCE Angel - ID" /> -->
                         <h1 class="main-title">{{$title['main_title']}}</h1>
                         <h6 class="secondary-title">{{$decoration['date']}} | {{$decoration['website']}}</h6>

                    </th>

                </tr>
            </thead>
            <tfoot class="print-footer">
                <tr>
                    <th colspan="6" >
                        <h6 style="margin: 10px 0px; font-size: xlarge;"> {{$decoration['website']}} </h6>
                    </th>
                </tr>
            </tfoot>
            <tbody valign="top">
                <tr>
                    <td colspan="6" class="topic" align="left" valign="middle">
                        <h6 class="topic">{{$title['basic_info']}}</h6>
                    </td>
                </tr>
                <tr>
                    <td colspan="3" align="right">
                        @if (isset($profile['photo']))
                        <div style="width: 80px; height: 80px; padding: 0px 20px;">
                            <img width="80px" height="80px" src="{{$profile['photo']}}"
                                style="display: block; height: 100%; border: 1px solid #ccc; border-radius: 100%; -o-object-fit: cover; object-fit: cover;" alt="" />
                        </div>
                        @endif
                    </td>
                    <td colspan="3" align="left">
                        <h1>{{$profile['fullname']}}</h1>
                        <div>{{$labels['member_id']}} {{{$profile['ice_id'] or ''}}}</div>
                    </td>
                </tr>
                <tr>
                    <td colspan="6">
                        <table class="card" width="100%" cellpadding="3" cellspacing="0">
                            <thead>
                                <tr>
                                    <th width="20%"></th>
                                    <th width="25%"></th>
                                    <th width="1%"></th>
                                    <th width="1%"></th>
                                    <th width="26%"></th>
                                    <th width="20%"></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td align="left" class="underline" width="17%">{{$labels['nationality']}}</td>
                                    <td align="right" class="underline" width="30%">{{ !empty($profile['nationality']) ? Country::find($profile['nationality'])->getName() : '' }}</td>
                                    <td colspan="2">&nbsp;</td>
                                    <td align="left" class="underline" width="17%">{{$labels['birth_date']}}</td>
                                    <td align="right" class="underline" width="30%">{{$profile['birth_date']}}</td>
                                </tr>
                                <tr>
                                    <td align="left" class="underline" width="17%">{{$labels['gender']}}</td>
                                    <td align="right" class="underline" width="30%">{{  !empty($profile['gender']) ?  Gender::find($profile['gender'])->getName() : '' }}</td>
                                    <td colspan="2">&nbsp;</td>
                                    <td align="left" class="underline" width="17%">{{$labels['email']}}</td>
                                    <td align="right" class="underline" width="30%">{{$profile['email']}}</td>
                                </tr>
                                <tr>
                                    <td align="left" class="underline" width="17%">{{$labels['phone']}}</td>
                                    <td align="right" class="underline" width="30%">{{$profile['phone']['number']}}</td>
                                    <td colspan="2">&nbsp;</td>
                                    <td colspan="2">&nbsp;</td>
                                </tr>
                            </tbody>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td class="section-space" colspan="6">&nbsp;</td>
                </tr>
                @include('pdf.contacts', ['contacts' => $contacts])
                <tr class="page-break">
                    <td colspan="6">
                        <div class="page-break"></div>
                    </td>
                </tr>

                @if ($hasAdditional)
                <tr>
                    <td colspan="6" class="topic" align="left" valign="middle">
                        <h6 class="topic">{{$title['additional_info']}}</h6>
                    </td>
                </tr>
                @endif
                @include('pdf.personal', ['personal' => $personal])
                <tr><td class="sub-section-space" colspan="6"></td></tr>
                @include('pdf.insurances', ['insurances' => $insurances])
                @if($hasMedical)
                <tr>
                    <td colspan="6">
                        <table width="100%">
                            <tr>
                                <td colspan="6"><h4>{{$title['medical']}}</h4></td>
                            </tr>
                        </table>
                    </td>
                </tr>
                @include('pdf.medical.doctors', ['doctors' => $medical['doctors']])
                @include('pdf.medical.blood', ['blood' => $medical['blood']])
                @include('pdf.medical.allergies', ['allergies' => $medical['allergies']])
                @include('pdf.medical.medications', ['medications' => $medical['medications']])
                @include('pdf.medical.covid_reports', ['covid_reports' => $medical['covid_reports']])
                @include('pdf.medical.immunizations', ['immunizations' => $medical['immunizations']])
                @include('pdf.medical.medical_conditions', ['medical_conditions' => $medical['medical_conditions']])
                @include('pdf.medical.surgical_history', ['surgical_history' => $medical['surgical_history']])
                @include('pdf.medical.family_medical_history', ['family_medical_history' => $medical['family_medical_history']])
                @include('pdf.records.hospital_records', ['hospital_records' => $medical['hospital_records']])
                @include('pdf.medical.organ_donor', ['organ_donor' => $medical['organ_donor']])
                @endif
                @if($hasRecords)
                <tr>
                    <td colspan="6">
                        <table width="100%">
                            <tr>
                                <td colspan="6"><h4>{{$title['records']}}</h4></td>
                            </tr>
                        </table>
                    </td>
                </tr>
                @include('pdf.records.living_wills', ['living_will' => $records['living_will']])
                @include('pdf.records.emergency_messages', ['emergency_messages' => $records['emergency_messages']])
                @endif
            </tbody>
        </table>
    </body>
</html>